webpackJsonp([11],{0:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var i=s(48),o=n(i),r=s(619),a=n(r),u=s(618),l=n(u);new o["default"]({ComposerHeader:a["default"]}),new o["default"]({ComposerFooter:l["default"]})},345:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=s(170),o=n(i),r={get:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return o["default"].get("composer."+e,t)}};t["default"]=r,e.exports=t["default"]},618:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=s(3),o=n(i),r=s(1),a=n(r),u=s(200),l=s(209),c=(n(l),s(355)),d=n(c),f=s(336),p=n(f),h=s(208),g=n(h),m=s(345),v=n(m),_=s(843),x=n(_),C=s(620),L=n(C),N=s(337),E=(n(N),a["default"].createClass({displayName:"ComposerFooter",propTypes:{course:a["default"].PropTypes.object},getInitialState:function(){var e=v["default"].get("course");e.curriculum_id=v["default"].get("curriculum_id");var t=0,s=e._id,n=o["default"](e.projects).pluck("checkpoints").flatten().value(),i=v["default"].get("course.course_exercises_index"),r=n[i-1];return{lesson:e,exercises:n,initialUnit:t,initialLesson:s,initialExercise:r,initialExerciseIndex:i,showNavigation:!1,lessonComplete:!1}},componentDidMount:function(){L["default"].on("composer:navigate",this.onComposerNavigate),L["default"].on("composer:nextProject",this.onNext),L["default"].on("composer:nextCourse",this.onNext)},onNext:function(){return this.props.segment?void this.setState({lessonComplete:!0}):window.location="/learn/"},onComposerNavigate:function(e){var t=this.state,s=t.lesson,n=t.exercises,i=o["default"].get(s.projects,"["+e.project+"].checkpoints["+e.checkpoint+"]");this.setState({initialExercise:i,initialExerciseIndex:o["default"].indexOf(n,i)+1})},getCourseNavigator:function(){var e=this.state,t=e.lesson,s=e.initialUnit,n=e.initialLesson,i=e.initialExercise;return a["default"].createElement(p["default"],{className:x["default"].modal,isOpen:this.state.showNavigation,initialUnit:s,initialLesson:n,initialExercise:i._id,titleRoute:v["default"].get("landing_path"),course:t,unlockAll:!0,onOutsideClick:this.toggleCourseNavigator})},courseIsComplete:function(){return this.props.segment&&this.isLastLesson()&&this.isLastUnit()?!0:void 0},isLastUnit:function(){return this.props.segment?this.currentUnitIndex()===this.props.segment.units.length-1:void 0},projectIsNext:function(){var e=this.currentUnit();return this.props.project?!this.isLastProject()&&e.projects.length>0:e.projects.length>0?e.projects[0].should_show?this.isLastLesson():!1:void 0},isLastLesson:function(){var e=this.currentUnit();return 0===e.lessons.length?!0:this.currentLessonIndex()===e.lessons.length-1?!0:!1},currentLesson:function(){return this.props.segment?this.props.segment.lessons[this.currentLessonIndex()]:void 0},currentLessonIndex:function w(){var e=this.currentUnit(),w=void 0,t=this.state.lesson.name;return e.lessons.forEach(function(e,s){e.title===t&&(w=s)}),w},currentUnit:function(){return this.props.segment?this.props.segment.units[this.currentUnitIndex()]:void 0},currentUnitIndex:function I(){var e=this.props.segment,t=e.units,s=this.state.lesson.name,I=void 0;return t.forEach(function(e,t){e.lessons.forEach(function(e){e.title===s&&(I=t)})}),I},completeLesson:function(){var e=void 0,t=void 0,s=this.currentUnit();if(this.courseIsComplete())return void(window.location=v["default"].get("landing_path"));if(this.projectIsNext())e=s.projects[0];else if(this.isLastLesson()){var n=this.currentUnitIndex(),i=this.props.segment.units[n+1];if(t=i.lessons[0],!t&&(e=i.projects[0],!e.should_show))return void(window.location=v["default"].get("landing_path"))}else t=s.lessons[this.currentLessonIndex()+1];return a["default"].createElement(g["default"],{type:"screen",course:this.state.lesson,nextProject:e,onClose:this.clearWall,nextLesson:t})},toggleCourseNavigator:function(){this.setState({showNavigation:!this.state.showNavigation})},render:function(){this.currentUnit();var e=this.state.initialExercise,t=void 0;return e&&(t=this.state.initialExerciseIndex+". "+e.name),a["default"].createElement(u.Footer,{className:x["default"].footer},a["default"].createElement(u.FooterSection,{position:"left"},a["default"].createElement(u.FooterTab,null,a["default"].createElement(d["default"],{title:t,"data-cue":"course-navigator",onClick:this.toggleCourseNavigator,active:this.state.showNavigation}))),this.getCourseNavigator(),this.state.lessonComplete&&this.props.segment?this.completeLesson():void 0)}}));t["default"]=E,e.exports=t["default"]},619:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=s(1),o=n(i),r=s(342),a=s(345),u=n(a),l=s(17),c=n(l),d=s(844),f=n(d),p=o["default"].createClass({displayName:"ComposerHeader",propTypes:{},render:function(){var e=u["default"].get("curriculum_title")||u["default"].get("course.name");return o["default"].createElement(r.Header,{"data-react-composer-header":!0,className:f["default"].header,title:e,titleRoute:u["default"].get("landing_path"),profileImage:c["default"].get("profile_image_url")})}});t["default"]=p,e.exports=t["default"]},620:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=s(3),o=n(i),r=s(386),a=n(r),u={};o["default"].extend(u,a["default"].Events),window.ComposerEvents=u,t["default"]=u,e.exports=t["default"]},843:function(e,t){e.exports={footer:"index__footer___2qYaX",navButton:"index__navButton___3Q91y",modal:"index__modal___2ZkMt"}},844:function(e,t){e.exports={header:"index__header___2fkD3"}}});
